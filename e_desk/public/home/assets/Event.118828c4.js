import{u as L,o as u,c as d,a as l,g as q,e,s as F,h as s,w as c,i as D,j as v,k,D as T,r as $,l as I,m as P,b as j,t as S,n as U,p as g,f as R,q as N,F as z,v as G,x as M,d as O,y as H}from"./index.33a71634.js";import{F as Q}from"./FileUploader.f2ec255d.js";const A={class:"border-b-2 w-full h-[70px] flex lg:justify-around justify-between items-center fixed"},J={class:"lg:flex hidden justify-center items-center"},Y={class:"flex justify-center items-center gap-6 text-sm hover:cursor-pointer"},K={key:0,class:"rounded-full flex justify-center items-center"},W=["src"],X={key:1},Z={class:"rounded-full flex justify-center items-center w-7 h-7 bg-gray-300"},ee={class:"lg:hidden w-[20px] mr-10"},te={__name:"Navbar",props:{user:Object},emits:["toggle-dialog"],setup(_,{emit:a}){const p=a;L();const f=()=>{p("toggle-dialog")},i=()=>{F.logout.fetch()},h=()=>{const x=encodeURIComponent("/home");window.location.href=`/login?redirect-to=${x}#login`};return(x,b)=>(u(),d("div",A,[b[1]||(b[1]=l("div",{class:"lg:w-[70px] sm:w-1/2 p-5 lg:p-0"},[l("img",{src:"",class:"",alt:"Logo"})],-1)),l("div",J,[l("ul",Y,[b[0]||(b[0]=q('<li class="hover:overline decoration-4 decoration-red-800 duration-1000"> Home </li><li class="hover:overline decoration-4 decoration-red-800"> Agenda </li><li class="hover:overline decoration-4 decoration-red-800"> Speakers </li><li class="hover:overline decoration-4 decoration-red-800"> Sponsors </li><li class="hover:overline decoration-4 decoration-red-800"> Venue </li>',5)),e(F).isLoggedIn?(u(),d("li",K,[s(e(T),{options:[{label:"Profile",onClick:f,icon:()=>k(e(v),{name:"user"})},{label:"Log out",icon:()=>k(e(v),{name:"log-out"}),onClick:i}]},{default:c(()=>[s(e(D),null,{icon:c(()=>[_.user&&_.user.user_image?(u(),d("img",{key:0,src:_.user.user_image,alt:"User Image",class:"rounded-full w-7 h-7"},null,8,W)):(u(),d("div",X,[l("div",Z,[s(e(v),{name:"more-horizontal",class:"h-4 w-4"})])]))]),_:1})]),_:1},8,["options"])])):(u(),d("li",{key:1,class:"hover:overline decoration-4 decoration-red-800",onClick:h}," Login "))])]),l("div",ee,[s(e(T),{options:[{group:"Menu",items:[{label:"Home",icon:()=>k(e(v),{name:"home"})},{label:"Agenda",icon:()=>k(e(v),{name:"calendar"})},{label:"Speakers",icon:()=>k(e(v),{name:"mic"})},{label:"Sponsors",icon:()=>k(e(v),{name:"dollar-sign"})},{label:"Venue",icon:()=>k(e(v),{name:"map-pin"})},e(F).isLoggedIn?{label:"Log out",icon:()=>k(e(v),{name:"log-out"}),onClick:i}:{label:"Log in",icon:()=>k(e(v),{name:"log-in"}),onClick:h}]}],class:"mr-10"},{default:c(()=>[s(e(D),null,{icon:c(()=>[s(e(v),{name:"menu",class:"h-5 w-5"})]),_:1})]),_:1},8,["options"])])]))}};var le="/assets/e_desk/home/bg.png";function ae(_,a){const p={month:"short",day:"numeric",year:"numeric"},f=new Date(_),i=new Date(a);f.getDate();const h=i.getDate(),x=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}),b=new Intl.DateTimeFormat("en-US",{year:"numeric"});if(f.getMonth()===i.getMonth()&&f.getFullYear()===i.getFullYear())return`${x.format(f)} \u2013 ${h}, ${b.format(i)}`;{const y=new Intl.DateTimeFormat("en-US",p),m=new Intl.DateTimeFormat("en-US",p);return`${y.format(f)} \u2013 ${m.format(i)}`}}const se={class:"flex flex-col xl:flex-row justify-between xl:mx-64 mt-36 mb-28"},oe={class:"xl:block flex items-center flex-col w-full xl:w-1/2"},ne={class:"flex flex-col gap-5"},ie={class:"font-bold",style:{"font-size":"45px"}},re={class:"flex gap-2"},ue={class:"flex gap-2"},de={key:0,class:"border-2 p-2 w-fit hover:cursor-not-allowed"},me={class:"w-full sm:flex sm:justify-center sm:items-center xl:block xl:w-1/2"},ce={class:"sm:w-3/6 xl:w-full"},pe=["src"],fe={class:"flex flex-col gap-5"},ve={class:"flex gap-5"},ge={class:"flex gap-5"},_e={class:"flex gap-5"},be={class:"w-1/2"},he={class:"w-1/2"},ye={class:"flex gap-5"},xe={class:"w-1/2"},ke={class:"w-1/2"},Ve={class:"flex"},we={key:0},Ce={key:1},$e={key:2},Se={key:3},Ue={class:"w-full flex justify-between"},De={__name:"Banner",props:{event:Object},setup(_){const a=$({first_name:"",last_name:"",mobile:"",email:"",prifix:"",bussines:"",role:"",chapter:"",image:""}),p=$(!1),f=I.exports.useToast(),i=_,h=P(()=>ae(i.event.start_date,i.event.end_date)),x=()=>{let o=[];return a.value.first_name.trim()||o.push("First Name is required"),a.value.last_name.trim()||o.push("Last Name is required"),a.value.mobile.trim()||o.push("Mobile Phone is required"),a.value.email.trim()||o.push("Email is required"),a.value.prifix||o.push("Prefix is required"),a.value.bussines||o.push("Business Category is required"),a.value.role||o.push("Role is required"),a.value.chapter||o.push("Chapter is required"),o.length>0?(o.forEach(t=>f.warning(t)),!1):!0},b=P(()=>i.event.start_date?new Date(i.event.start_date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"");let y=j({url:"e_desk.e_desk.api.frontend_api.Getlist",method:"GET",makeParams(){return{doctype:["Business Category","Salutation","Chapter","Roles"]}},onSuccess(o){console.log(o,"Response from server"),p.value=!0}});const m=()=>{y.fetch()},V=()=>{if(!x())return;a.value.confer=i.event.name,j({url:"e_desk.e_desk.api.frontend_api.ParticipantCreate",method:"POST",makeParams(){return{data:a.value}},onSuccess(t){console.log(t,"Response from server"),t.status!=200?f.warning(t.message):(f.success(t.message),setTimeout(()=>{p.value=!1},3e3))}}).fetch()};let n={Business:{},Category:{},Roles:{},Salutation:{},Chapter:{}};const w=P(()=>y.data&&typeof y.data=="object"?(console.log("Structured list with label and value:",y.data),y.data):n);return(o,t)=>(u(),d(z,null,[l("div",se,[l("div",oe,[l("div",ne,[l("p",ie,S(_.event.name),1),l("p",re,[s(e(v),{class:"w-5 h-5",name:"calendar"}),U(" "+S(h.value)+" ",1),s(e(v),{class:"w-5 h-5",name:"clock"}),U(" "+S(b.value),1)]),l("p",ue,[s(e(v),{class:"w-5 h-5",name:"map-pin"}),U(" "+S(_.event.venuelocation),1)]),new Date(_.event.registration_close_date)<new Date?(u(),d("p",de," Event has ended ")):(u(),d("p",{key:1,class:"border-2 p-2 w-fit hover:cursor-pointer",onClick:m}," Register Now "))])]),l("div",me,[l("div",ce,[l("img",{src:_.event.banner_image,alt:"Conference Image"},null,8,pe)])])]),t[14]||(t[14]=l("div",null,[l("img",{class:"",src:le,alt:"Background Image"})],-1)),s(e(N),{modelValue:p.value,"onUpdate:modelValue":t[10]||(t[10]=r=>p.value=r)},{"body-title":c(()=>t[11]||(t[11]=[l("h3",null,"Register",-1)])),"body-content":c(()=>[l("div",fe,[l("div",ve,[s(e(g),{type:"text",size:"sm",variant:"subtle",placeholder:"First Name",disabled:!1,label:"First Name",modelValue:a.value.first_name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.first_name=r)},null,8,["modelValue"]),s(e(g),{type:"text",size:"sm",variant:"subtle",placeholder:"Last Name",disabled:!1,label:"Last Name",modelValue:a.value.last_name,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.last_name=r)},null,8,["modelValue"])]),l("div",ge,[s(e(g),{type:"text",size:"sm",variant:"subtle",placeholder:"Mobile",disabled:!1,label:"Mobile Phone",modelValue:a.value.mobile,"onUpdate:modelValue":t[2]||(t[2]=r=>a.value.mobile=r)},null,8,["modelValue"]),s(e(g),{type:"text",size:"sm",variant:"subtle",placeholder:"Email",disabled:!1,label:"Email",modelValue:a.value.email,"onUpdate:modelValue":t[3]||(t[3]=r=>a.value.email=r)},null,8,["modelValue"])]),l("div",_e,[l("div",be,[s(e(g),{type:"autocomplete",options:w.value.Salutation,size:"sm",variant:"subtle",placeholder:"Prefix",disabled:!1,label:"Prefix",modelValue:a.value.prifix,"onUpdate:modelValue":t[4]||(t[4]=r=>a.value.prifix=r)},null,8,["options","modelValue"])]),l("div",he,[s(e(g),{type:"autocomplete",options:w.value["Business Category"],size:"sm",variant:"subtle",placeholder:"Business Category",disabled:!1,label:"Business Category",modelValue:a.value.bussines,"onUpdate:modelValue":t[5]||(t[5]=r=>a.value.bussines=r)},null,8,["options","modelValue"])])]),l("div",ye,[l("div",xe,[s(e(g),{type:"autocomplete",options:w.value.Roles,size:"sm",variant:"subtle",placeholder:"Role",disabled:!1,label:"Role",modelValue:a.value.role,"onUpdate:modelValue":t[6]||(t[6]=r=>a.value.role=r)},null,8,["options","modelValue"])]),l("div",ke,[s(e(g),{type:"autocomplete",options:w.value.Chapter,size:"sm",variant:"subtle",placeholder:"Chapter",disabled:!1,label:"Chapter",modelValue:a.value.chapter,"onUpdate:modelValue":t[7]||(t[7]=r=>a.value.chapter=r)},null,8,["options","modelValue"])])]),s(e(Q),{fileTypes:["image/*"],validateFile:r=>{},onSuccess:t[8]||(t[8]=r=>{console.log(r),a.value.image=r})},{default:c(({file:r,uploading:B,progress:C,uploaded:Ie,message:Ge,error:Me,total:Oe,success:He,openFileSelector:E})=>[s(e(D),{onClick:E,loading:B,class:"bg-green"},{default:c(()=>[l("div",Ve,[C==100?(u(),d("p",we," Uploaded ")):C>0&&C<100?(u(),d("p",Ce," Uploading ")):(u(),d("p",$e," Upload ")),C>0&&C<100?(u(),d("p",Se,S(C)+"% ",1)):R("",!0)])]),_:2},1032,["onClick","loading"])]),_:1})])]),actions:c(()=>[l("div",Ue,[s(e(D),{class:"ml-2",onClick:t[9]||(t[9]=r=>p.value=!1)},{default:c(()=>t[12]||(t[12]=[U(" Close ")])),_:1}),s(e(D),{variant:"solid",onClick:V},{default:c(()=>t[13]||(t[13]=[U(" Confirm ")])),_:1})])]),_:1},8,["modelValue"])],64))}},Pe={class:"h-[75px]"},je={key:0},Fe={key:0,class:""},Re={class:"grid gap-2 sm:grid-cols-2 grid-cols-1"},Te={class:"flex justify-center items-end"},Ne={key:0},ze={key:1},Be={key:1,class:"w-full h-[200px] flex justify-center"},Ee=["src"],Le={key:2},qe={class:"flex justify-center"},Je={__name:"Event",setup(_){const a=G(),p=$(!1),f=$(!0),i=$(!1),h=j({url:"e_desk.e_desk.api.frontend_api.GetValue",method:"GET",makeParams(){return{doctype:"Confer",filter:JSON.stringify({name:a.params.id}),field:["name","start_date","end_date","venuelocation","banner_image","registration_close_date"],dict:!0}},auto:!0,onSuccess(){f.value=!1}});let x=P(()=>!f.value&&h.data&&typeof h.data=="object"?h.data:null);const b=j({url:"e_desk.e_desk.api.frontend_api.GetValue",method:"GET",makeParams(){return{doctype:"User",filter:JSON.stringify({name:F.user}),field:["user_image","participant_id"],dict:!0}},auto:!0});let y=P(()=>b.data&&typeof b.data=="object"?b.data:null);const m=$(null);return M(()=>{var V;return(V=y.value)==null?void 0:V.participant_id},V=>{V&&j({url:"e_desk.e_desk.api.frontend_api.GetDoc",method:"GET",makeParams(){return{doctype:"Participant",name:V}},auto:!0,onSuccess(n){console.log("Participant data:",n),m.value=n},onError(n){console.error("Error fetching participant data:",n)}})},{immediate:!0}),(V,n)=>{const w=H("Button");return u(),d(z,null,[l("div",Pe,[s(te,{onToggleDialog:n[0]||(n[0]=o=>p.value=!0),user:e(y)},null,8,["user"])]),e(x)?(u(),d("div",je,[s(De,{event:e(x)},null,8,["event"]),s(e(N),{modelValue:p.value,"onUpdate:modelValue":n[8]||(n[8]=o=>p.value=o)},{"body-title":c(()=>n[9]||(n[9]=[l("h3",null,"Profile",-1)])),"body-content":c(()=>[l("div",null,[m.value&&!i.value?(u(),d("div",Fe,[l("div",Re,[s(e(g),{type:"text",ref_for:!0,size:"xl",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Name:",modelValue:m.value.first_name,"onUpdate:modelValue":n[1]||(n[1]=o=>m.value.first_name=o)},null,8,["modelValue"]),l("div",Te,[s(w,{variant:"solid",onClick:n[2]||(n[2]=o=>i.value=!i.value)},{default:c(()=>[i.value?(u(),d("span",Ne," Hide Qr ")):(u(),d("span",ze," View Qr "))]),_:1})]),s(e(g),{type:"text",ref_for:!0,size:"xl",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Business Category:",modelValue:m.value.business_category,"onUpdate:modelValue":n[3]||(n[3]=o=>m.value.business_category=o)},null,8,["modelValue"]),s(e(g),{type:"text",ref_for:!0,size:"xl",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Chapter:",modelValue:m.value.chapter,"onUpdate:modelValue":n[4]||(n[4]=o=>m.value.chapter=o)},null,8,["modelValue"]),s(e(g),{type:"text",ref_for:!0,size:"xl",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Email:",modelValue:m.value.e_mail,"onUpdate:modelValue":n[5]||(n[5]=o=>m.value.e_mail=o)},null,8,["modelValue"]),s(e(g),{type:"text",ref_for:!0,size:"xl",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Mobile:",modelValue:m.value.mobile_number,"onUpdate:modelValue":n[6]||(n[6]=o=>m.value.mobile_number=o)},null,8,["modelValue"])])])):m.value&&i.value?(u(),d("div",Be,[l("img",{src:m.value.qr,alt:""},null,8,Ee)])):(u(),d("p",Le,"Loading participant data..."))])]),actions:c(()=>[l("div",qe,[i.value?(u(),O(w,{key:0,variant:"solid",onClick:n[7]||(n[7]=o=>i.value=!i.value)},{default:c(()=>n[10]||(n[10]=[l("span",null," Hide Qr ",-1)])),_:1})):R("",!0)])]),_:1},8,["modelValue"])])):R("",!0)],64)}}};export{Je as default};
